---
import Layout from "../../components/Layout.astro";
---
<Layout title="Projects">
  <h1 class="text-3xl font-semibold">Projects</h1>
  <p class="mt-2 text-zinc-700">Featured work and shipped artifacts. (This page will grow.)</p>

  <section class="mt-8">
    <h2 class="text-xl font-semibold">Featured projects</h2>
    <p class="mt-1 text-sm text-zinc-700">
      These are the three portfolio projects I’m building next. As they ship, this section becomes the main “clickable” part of the site.
    </p>

    <div class="mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <!-- B1 -->
      <div class="rounded-2xl border p-5">
        <div class="flex items-center justify-between gap-3">
          <h3 class="font-semibold">B1 — Full-stack CRUD app</h3>
          <span class="text-xs rounded-full border px-2 py-1 text-zinc-600">In progress</span>
        </div>
        <p class="mt-2 text-sm text-zinc-700">
          Auth + Postgres + deployed. Focus: schema/migrations, ownership rules, clean UX.
        </p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs text-zinc-600">
          <span class="rounded-full border px-2 py-1">React</span>
          <span class="rounded-full border px-2 py-1">Node</span>
          <span class="rounded-full border px-2 py-1">Postgres</span>
        </div>
      </div>

      <!-- B2 -->
      <div class="rounded-2xl border p-5">
        <div class="flex items-center justify-between gap-3">
          <h3 class="font-semibold">B2 — AWS deployment project</h3>
          <span class="text-xs rounded-full border px-2 py-1 text-zinc-600">Planned</span>
        </div>
        <p class="mt-2 text-sm text-zinc-700">
          CI/CD + logs + health checks. Focus: operating what I build.
        </p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs text-zinc-600">
          <span class="rounded-full border px-2 py-1">AWS</span>
          <span class="rounded-full border px-2 py-1">CI/CD</span>
          <span class="rounded-full border px-2 py-1">Monitoring</span>
        </div>
      </div>

      <!-- B3 -->
      <div class="rounded-2xl border p-5">
        <div class="flex items-center justify-between gap-3">
          <h3 class="font-semibold">B3 — PL tool with a web UI</h3>
          <span class="text-xs rounded-full border px-2 py-1 text-zinc-600">Planned</span>
        </div>
        <p class="mt-2 text-sm text-zinc-700">
          A small developer tool to visualize/inspect program structure (AST/types/steps).
        </p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs text-zinc-600">
          <span class="rounded-full border px-2 py-1">OCaml</span>
          <span class="rounded-full border px-2 py-1">Web UI</span>
          <span class="rounded-full border px-2 py-1">Tooling</span>
        </div>
      </div>
    </div>
  </section>
  
  <h2 class="mt-12 text-xl font-semibold">Research case study</h2>
  <p class="mt-1 text-sm text-zinc-700">
    Artifacts from my programming languages research: poster + a compiler verification tool (AST visualisation).
  </p>

  <section class="mt-8 rounded-2xl border p-6">
    <header class="space-y-1">
      <h2 class="text-xl font-semibold">Pirouette — Poster + AST Visualisation</h2>
      <p class="text-sm text-zinc-700">
        Research artifacts from my Pirouette work: a poster overview + an example output from my DOT-based AST generator.
      </p>
    </header>

    <div class="mt-6 grid gap-8 md:grid-cols-2 items-start">
      <!-- LEFT: Poster -->
      <div class="space-y-2">
        <div class="rounded-xl border overflow-hidden">
          <iframe
            src="/pir-poster.pdf"
            title="Pirouette poster"
            class="w-full h-[820px]"
          ></iframe>
        </div>
        <a class="text-sm underline text-zinc-700" href="/pir-poster.pdf" target="_blank" rel="noopener noreferrer">
          Open poster
        </a>
      </div>

      <!-- RIGHT: AST + code -->
      <div class="space-y-6">
        <div class="rounded-xl border p-4">
          <div class="text-sm font-medium mb-3">DOT-generated AST (example)</div>
          <img
            src="/DOT-gen-example.png"
            alt="DOT-generated AST visualization for a Pirouette snippet"
            class="w-full max-w-xs mx-auto rounded-lg border border-zinc-200"
            loading="lazy"
          />
          <a class="mt-3 inline-block text-sm underline text-zinc-700" href="/DOT-gen-example.png" target="_blank" rel="noopener noreferrer">
            Open AST image
          </a>
        </div>

        <div class="rounded-xl border p-4">
          <div class="text-sm font-medium mb-3">Example input (Pirouette snippet)</div>
          <pre class="rounded-lg bg-zinc-50 p-3 overflow-x-auto text-sm"><code>y := if P1.(3&gt;5)
   then P1[L] ~&gt; P2;
          P2.5
     else P1[R] ~&gt; P2;
          P2.9;</code></pre>
        </div>
      </div>
    </div>
  </section>
</Layout>
